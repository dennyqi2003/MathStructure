Exercise 2.11.22 Show that any subgroup of order $p^{n-1}$ in a group $G$ of order $p^n$ is normal in $G$.
Proof.
Proof: First we prove the following lemma.

\textbf{Lemma:} If $G$ is a finite $p$-group with $|G|>1$, then $Z(G)$, the center of $G$, has more than one element; that is, if $|G|=p^k$ with $k\geq 1$, then $|Z(G)|>1$.

\textit{Proof of the lemma:} Consider the class equation
$$
|G|=|Z(G)|+\sum_{a \notin Z(G)}[G: C(a)],
$$
where $C(a)$ denotes the centralizer of $a$ in $G$. If $G=Z(G)$, then the lemma is immediate. Suppose $Z(G)$ is a proper subset of $G$ and consider an element $a\in G$ such that $a\notin Z(G)$. Then $C(a)$ is a proper subgroup of $G$. Since $C(a)$ is a subgroup of a $p$-group, $[G:C(a)]$ is divisible by $p$ for all $a\notin Z(G)$. This implies that $p$ divides $|G|=|Z(G)|+\sum_{a\notin Z(G)} [G:C(a)]$.

Since $p$ also divides $|G|$, it follows that $p$ divides $|Z(G)|$. Hence, $|Z(G)|>1$. $\Box$

This proves our \textbf{lemma}.

We will prove the result by induction on $n$.
If $n=1$, the $G$ is a cyclic group of prime order and hence every subgroup of $G$ is normal in $G$. Thus, the result is true for $n=1$.
Suppose the result is true for all groups of order $p^m$, where $1 \leq m<n$.
Let $H$ be a subgroup of order $p^{n-1}$.
Consider $N(H)=\{g \in H: g H=H g\}$.
If $H \neq N(H)$, then $|N(H)|>p^{n-1}$. Thus, $|N(H)|=p^n$ and $N(H)=G$.
In this case $H$ is normal in $G$.
Let $H=N(H)$. Then $Z(G)$, the center of $G$, is a subset of $H$ and $Z(G) \neq$ $\{e\}$.
By Cauchy's theorem and the above Claim, there exists $a \in Z(G)$ such that $o(a)=p$.
Let $K=\langle a\rangle$, a cyclic group generated by $a$.
Then $K$ is a normal subgroup of $G$ of order $p$. Now, $|H / K|=p^{n-2}$ and $|G / K|=p^{n-1}$.
Thus, by induction hypothesis, $H / K$ is a normal subgroup of $G / K$.
Qed.